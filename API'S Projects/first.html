<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Cards</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body><div >
    <div id="one" style="display: flex;justify-content: space-evenly; flex-wrap: wrap;">
        <div class="card-body">
            <h5 class="card-title placeholder-glow">
              <span class="placeholder col-6"></span>
            </h5>
            <p class="card-text placeholder-glow">
              <span class="placeholder col-7"></span>
              <span class="placeholder col-4"></span>
              <span class="placeholder col-4"></span>
              <span class="placeholder col-6"></span>
              <span class="placeholder col-8"></span>
            </p>
            <a class="btn btn-primary disabled placeholder col-6" aria-disabled="true"></a>
          </div>
    </div>
</body>
</html>
<script>
    async function firstf(){
        function thirdf(item){
            return `<div class="card p-5 m-1" style="width: 400px;">
        <img src="" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">${item.title}</h5>
          <p class="card-text">${item.plot}.</p>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="fourthf(${item.id})"> know more</button>
        </div>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            ${item.rating}
            <span class="visually-hidden">unread messages</span>
            </span>
        </div>`
        }
         function secondf(){
            setTimeout(async() => {
                let var1 = await fetch('https://freetestapi.com/api/v1/movies')
                let var2 = await var1.json()
                console.log(var2)

                let var3 = var2.map(thirdf)
                document.getElementById("one").innerHTML = var3
                
            }, 2000);
        }
        secondf()
    }
    firstf()
    async function fourthf(x){
            let var4 = await fetch(`'https://freetestapi.com/api/v1/movies/${x}'`)
            let var5 = await var4.json()
            console.log(var5)
        }
    
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous">
</script> 